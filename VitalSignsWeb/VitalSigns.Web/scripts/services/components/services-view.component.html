<div id="zeusContext">
    <div id="zeusContextNavigation">
        <div id="zeusContextNavigationIcon">
            <img class="svgInject" src="img/menu/servers.svg" title="Dashboard" alt="Dashboard" />
        </div>
        <div id="zeusContextNavigationText">
            <div class="row">
                <div class="form-group col-sm-6">
                    <h2>
                        Servers
                        <div class="dropdown">
                            <span class="glyphicon glyphicon-chevron-down" data-toggle="dropdown" class="dropdown-toggle" id="openContextNavigation" aria-hidden="true"></span>
                            <ul class="dropdown-menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                            </ul>
                        </div>
                    </h2>
                    <p>Manage your servers</p>
                    </div>
                <div class="form-group col-sm-6" *ngIf="module=='Configurator'">
                    <button #addServer type="button" class="btn btn-primary">Add Server</button>
                    </div>
                </div>
          

        </div>
    </div>
    <div id="zeusContextActions">

        <!-- Split button -->
        <div class="btn-wrapper">
            <div class="btn-group">
                <button  type="button" class="btn btn-primary">Action</button>
                <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a href="#">Separated link</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>

<div id="zeusContent" class="noPadding twoColumns30-70">

    <div class="twoColumn30 serversList">
        <div id="serversFilters">
            <search-server-list (name)="searchText=$event" (type)="searchType=$event" (status)="searchStatus=$event" (location)="searchLocation=$event"></search-server-list>
        </div>
        <div>
            <div class="text-center">
                <b> {{filterCount}}</b> servers found.
            </div>
        </div>
        <div id="serversListWrapper" style="overflow-y: auto;">
            <div class="aServer" [class.active]="service.active" attr.data-status="{{service.status}}" *ngFor="let service of services |searchserverlist:searchText :searchType :searchStatus :searchLocation; let i = index;" (click)="selectService(service)">
                <div class="serverIcon">
                    <span class="helper"></span><img class="svgInject" src="{{service.icon}}" title="{{service.name}}" alt="{{service.name}}" />
                </div>
                <div class="serverTitle">{{service.name}}</div>
                <p class="desc" *ngIf="service.version">{{service.version}}</p>
                <p class="desc">{{service.description}}</p>
                <div class="statusIndicator"></div>      
                {{setFilterCount(i)}}         
            </div>
        </div>
    </div>

    <div class="twoColumn70 serverDetailWrapper">
        <wj-popup #frmDialog class="popover" [owner]="addServer" [showTrigger]="'Click'" [hideTrigger]="'None'" style="min-width: 800.2778px">
            <form (ngSubmit)="onSubmit(addServersForm.value,frmDialog)"  class="form-horizontal" [formGroup]="addServersForm">
                <h3 class="popover-title">
                    Maintain Servers
                    <button type="button" tabindex="-1" class="close wj-hide">&times;</button>
                </h3>
                <div class="popover-content">
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label for="device_name" class="control-label col-sm-5">Server Name</label>
                            <div class="col-sm-7">
                                <input #deviceName type="text" class="form-control"  name="device_name" formControlName="device_name" required>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="device_type" class="control-label col-sm-5">Server Type</label>
                            <div class="col-sm-7">
                              
                                <wj-combo-box displayMemberPath="text" selectedValuePath="value" name="selectedType" [itemsSource]="deviceTypeData"
                                              formControlName="device_type" placeholder="Select Location"  >
                                    
                                </wj-combo-box>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label for="description" class="control-label col-sm-5">Description</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control"  name="description" formControlName="description" required>
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="location_name" class="control-label col-sm-5">Location</label>
                            <div class="col-sm-7">
                             
                                <wj-combo-box  displayMemberPath="text" selectedValuePath="value" name="location" [itemsSource]="deviceLocationData"
                                              formControlName="location_id" placeholder="Select Location" >
                                </wj-combo-box>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label for="ip_address" class="control-label col-sm-5">IP/Host Name</label>
                            <div class="col-sm-7">
                                <input type="text" class="form-control" name="ip_address" formControlName="ip_address" >
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="business_hour" class="control-label col-sm-5">Business Hours</label>
                            <div class="col-sm-7">
                              
                                <wj-combo-box name="businessHour" [itemsSource]="devicebusinessHourData" displayMemberPath="text" selectedValuePath="value"
                                              formControlName="business_hours_id" placeholder="Select Hours">
                                </wj-combo-box>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label for="monthly_operating_cost" class="control-label col-sm-5">Monthly Operating Cost</label>
                            <div class="col-sm-7">
                                <input type="text"  pattern="^[1-9]\d*(\.\d+)?$" class="form-control"  name="monthly_operating_cost" formControlName="monthly_operating_cost">
                            </div>
                        </div>
                        <div class="form-group col-sm-6">
                            <label for="ideal_user_count" class="control-label col-sm-5">Ideal User Count</label>
                            <div class="col-sm-7">
                                <input type="text"  pattern="^[1-9]\d*(\.\d+)?$"  class="form-control"  name="ideal_user_count" formControlName="ideal_user_count">
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer">
                        <button type="submit" class="btn btn-primary"> Save </button>
                        <!--<button class="btn btn-primary wj-hide " type="button" name="cancel" (click)="cancelEditAdd()">Cancel</button>-->
                    </div>
                </div>
            </form>
        </wj-popup>

        <div id="serverDetail">

            <router-outlet></router-outlet>

        </div>

    </div>
</div>
